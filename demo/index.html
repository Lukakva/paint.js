<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Paint.js Example</title>
</head>
<style type="text/css">
	html, body, #paint {
		height: 100%;
		width: 100%;
		margin: 0;
	}

	button {
		line-height: 30px;
		margin: 17px 5px;
		border: none;
		box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
		outline: none;
	}

	button:hover {
		box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
	}

	button:active {
		box-shadow: 0 0 1px rgba(0, 0, 0, 0.5);
	}

</style>
<body>
	<button id="download-button">Download Image</button>
	<button id="load-image">Load Image</button>
	<div id="paint"></div>
</body>
<script type="text/javascript" src="src/jquery.js"></script>
<script type="text/javascript" src="src/jscolor.js"></script>
<script type="text/javascript" src="src/paint.js"></script>
<script type="text/javascript">
	var paint = new PaintJS({
		paint: "#paint"
	});

	$(paint.navbar).prepend($("#load-image"));
	$(paint.navbar).prepend($("#download-button"));

	$("#download-button").click(function() {
		var dataURL = paint.canvas.toDataURL();
		var link = document.createElement("a");
		if (typeof link.download === "string") {
			console.log("YEA");

			link.download  = "image.jpg";
			link.href      = dataURL;
			link.innerHTML = "image.jpg";

			$(link).appendTo("body");
			link.click();
			$(link).remove();
		} else {
			window.open(dataURL);
		}
	});

	$("#load-image").click(function() {
		paint.fromURL("image.jpg").then(function(paint) {
			window.paint = paint;
		}).catch(function(err) {
			console.log(err);
		});
	});
</script>
</html>